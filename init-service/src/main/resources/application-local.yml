server:
  error:
    include-message: always

logging:
  level:
    uk:
      ac:
        ox:
          ndph:
            mts: DEBUG
    org:
      springframework:
        web:
          reactive:
            function:
              client:
                ExchangeFunctions: TRACE

# for local work we specify the uri's manually using env vars
# When Eureka is disabled Ribbon client defaults to a configured server list
role-service:
  uri: http://role-service
  ribbon:
    listOfServers: ${ROLE_SERVICE_URI:localhost:8082}


site-service:
  uri: http://site-service
  ribbon:
    listOfServers: ${SITE_SERVICE_URI:localhost:8083}


practitioner-service:
  uri: http://practitioner-service
  ribbon:
    listOfServers: ${PRACTITIONER_SERVICE_URI:localhost:8081}

---
# for local work we use this static trial config
trial:
  trialName: "My Local Trial"
  persons:
    - givenName: Bootstrap
      familyName: User
      prefix: Mr
      roles:
        - superuser
      userAccount: some-user-account-id
  sites:
    - name: CCO
      alias: CCO
      siteType: CCO
  roles:
    - id: superuser
      permissions:
        - id: create-person
        - id: view-person
    - id: country-admin
      permissions:
        - id: create-person
---
spring:
  main:
    web-application-type: NONE # init-service is just a console app, should quit when done.
role-service:
  routes:
    create: /roles
site-service:
  routes:
    create: /sites
practitioner-service:
  routes:
    create: /practitioner
    assign-role: /practitioner/%s/roles
    link-user-account: /practitioner/%s/link
